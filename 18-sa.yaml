kind: Pod
apiVersion: v1
metadata:
 name: sa-demo
 namespace: expense
spec:
  # one pod can contain multiple container
 serviceAccount: expense-mysql-secret
 initContainers:
 - name: awscli
   image: amazon/aws-cli
   command: ['sh', '-c', ' aws secretsmanager get-secret-value \
    --secret-id expense/mysql/creds --query SecretString --output text > ']
    volumeMounts: # init contaciner
    - mountPath: /secrets
      name: secret-volume
    containers:
    - name: nginx
      image: nginx
    volumeMounts: # main container
    - mountPath: /secrets
      name: secret-volume
    volumes:
    - name: secret-volume
      emptyDir: {}
 